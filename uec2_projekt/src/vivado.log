#-----------------------------------------------------------
# Vivado v2017.3 (64-bit)
# SW Build 2018833 on Wed Oct  4 19:58:22 MDT 2017
# IP Build 2016188 on Wed Oct  4 21:52:56 MDT 2017
# Start of session at: Mon Aug  1 22:37:21 2022
# Process ID: 21116
# Current directory: C:/Users/bened/Desktop/Proj/uec2_projekt/src
# Command line: vivado.exe -mode tcl -source run.tcl -tclargs open
# Log file: C:/Users/bened/Desktop/Proj/uec2_projekt/src/vivado.log
# Journal file: C:/Users/bened/Desktop/Proj/uec2_projekt/src\vivado.jou
#-----------------------------------------------------------
source run.tcl
# set_param synth.elaboration.rodinMoreOptions "rt::set_parameter var_size_limit 1572865"
# set project PROJEKT_UEC2
# set top_module top_level
# set target xc7a35tcpg236-1
# set bitstream_file build/${project}.runs/impl_1/${top_module}.bit
# proc usage {} {
# puts "===========================================================================\n
# usage: vivado -mode tcl -source [info script] -tclargs \[open/rebuild/sim/bit/prog\]\n
# \topen    - open project and start gui\n
# \trebuild - clear build directory and create the project again from sources, then open gui\n
# \tsim     - run simulation\n
# \tbit     - generate bitstream\n
# \tprog    - load bitstream to FPGA\n
# If a project is already created in the build directory, run.tcl opens it. Otherwise, creates a new one.
# ==========================================================================="
# }
# proc create_new_project {project target top_module} {
#     file mkdir build
#     create_project ${project} build -part ${target} -force
#     
#     # Specify .xdc files location             -- EDIT
#     read_xdc {
#         constraints/project_constraints.xdc
# 		
#     }
# 
#     # Specify verilog design files location   -- EDIT
#     #read_verilog {
# 	#	rtl/frame_buffer/blk_mem_gen_v8_4.v
# 	#	rtl/frame_buffer/frame_buffer.v
# 	#	rtl/frame_buffer/frame_buffer_sim_netlist.v 
# 	#	rtl/frame_buffer/frame_buffer_stub.v 
#     #}
#     
#     # Specify vhdl design files location      -- EDIT
#     read_vhdl {
# 		rtl/ov7670_fr/address_Generator.vhd
# 		rtl/ov7670_fr/debounce.vhd
# 		rtl/ov7670_fr/i3c2.vhd
# 		rtl/ov7670_fr/ov7670_capture.vhd
# 		rtl/ov7670_fr/ov7670_controller.vhd
# 		rtl/ov7670_fr/RGB.vhd
# 		rtl/ov7670_fr/top_level.vhd
# 		rtl/ov7670_fr/vga.vhd
# 		
# 
# 		
# 		rtl/basys3_ov7670/clocking.vhd
# 		rtl/basys3_ov7670/i2c_sender.vhd
# 		rtl/basys3_ov7670/ov7670_registers.vhd
#     }
#     
#     # Specify files for memory initialization -- EDIT
#     #read_mem {
#         #./image_rom.data
#     #}
# 
#     # Specify simulation files location       -- EDIT
#     #add_files -fileset sim_1 {
#     #    sim/testbench.v
# 	#	sim/tiff_writer.v
# 	#	sim/draw_rect_ctl_tb.v
# 	#	sim/draw_rect_ctl_test.v
# 	#	sim/delay_test.v
#     #}
# 
#     set_property top ${top_module} [current_fileset]
#     update_compile_order -fileset sources_1
#     update_compile_order -fileset sim_1
# }
# proc open_existing_project {project} {
#     open_project build/$project.xpr
#     update_compile_order -fileset sources_1
#     update_compile_order -fileset sim_1
# }
# proc open_or_create_project {project target top_module} {
#     if {[file exists build/$project.xpr] == 1} {
#         open_existing_project $project 
#     } else {
#         create_new_project $project $target $top_module
#     }
# }
# proc program_fpga {bitstream_file} {
#     if {[file exists $bitstream_file] == 0} {
#         puts "ERROR: No bitstream found"
#     } else {
#         open_hw_manager
#         connect_hw_server
#         current_hw_target [get_hw_targets *]
#         open_hw_target
#         current_hw_device [lindex [get_hw_devices] 0]
#         refresh_hw_device -update_hw_probes false [lindex [get_hw_devices] 0]
# 
#         set_property PROBES.FILE {} [lindex [get_hw_devices] 0]
#         set_property FULL_PROBES.FILE {} [lindex [get_hw_devices] 0]
#         set_property PROGRAM.FILE ${bitstream_file} [lindex [get_hw_devices] 0]
# 
#         program_hw_devices [lindex [get_hw_devices] 0]
#         refresh_hw_device [lindex [get_hw_devices] 0]
#     }
# }
# proc simulation {} {
#     launch_simulation
#     # run all
# }
# proc bitstream {} {
#     # Run synthesis
#     reset_run synth_1
#     launch_runs synth_1 -jobs 8
#     wait_on_run synth_1
#     
#     # Run implemenatation up to bitstream generation
#     launch_runs impl_1 -to_step write_bitstream -jobs 8
#     wait_on_run impl_1
# }
# if {$argc == 1} {
#     switch $argv {
#         open {
#             open_or_create_project $project $target $top_module    
#             start_gui
#         }
#         rebuild {
#             create_new_project $project $target $top_module    
#             start_gui
#         }
#         sim {
#             open_or_create_project $project $target $top_module    
#             simulation
#             start_gui
#         }
#         bit {
#             open_or_create_project $project $target $top_module    
#             bitstream
#             exit
#         }
#         prog {
#             program_fpga $bitstream_file
#             exit
#         }
#         default {
#             usage
#             exit 1
#         }
#     }
# } else {
#     usage
#     exit 1
# }
update_compile_order -fileset sources_1
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository 'D:/Program_files/Vivado/Vivado/2017.3/data/ip'.
INFO: [Device 21-403] Loading part xc7a35tcpg236-1
WARNING: [IP_Flow 19-4067] Ignoring invalid widget type specified checkbox.Providing a default widget
WARNING: [IP_Flow 19-4067] Ignoring invalid widget type specified checkbox.Providing a default widget
create_ip -name blk_mem_gen -vendor xilinx.com -library ip -version 8.4 -module_name frame_buffer -dir c:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.srcs/sources_1/ip
set_property -dict [list CONFIG.Component_Name {frame_buffer} CONFIG.Memory_Type {Simple_Dual_Port_RAM} CONFIG.Write_Width_A {12} CONFIG.Write_Depth_A {131072} CONFIG.Read_Width_A {12} CONFIG.Operating_Mode_A {NO_CHANGE} CONFIG.Enable_A {Always_Enabled} CONFIG.Write_Width_B {12} CONFIG.Read_Width_B {12} CONFIG.Enable_B {Always_Enabled} CONFIG.Register_PortA_Output_of_Memory_Primitives {false} CONFIG.Register_PortB_Output_of_Memory_Primitives {true} CONFIG.Port_B_Clock {100} CONFIG.Port_B_Enable_Rate {100}] [get_ips frame_buffer]
WARNING: [Vivado 12-3523] Attempt to change 'Component_Name' from 'frame_buffer' to 'frame_buffer' is not allowed and is ignored.
generate_target {instantiation_template} [get_files c:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.srcs/sources_1/ip/frame_buffer/frame_buffer.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'frame_buffer'...
update_compile_order -fileset sources_1
generate_target all [get_files  c:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.srcs/sources_1/ip/frame_buffer/frame_buffer.xci]
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'frame_buffer'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'frame_buffer'...
INFO: [IP_Flow 19-1686] Generating 'Miscellaneous' target for IP 'frame_buffer'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'frame_buffer'...
catch { config_ip_cache -export [get_ips -all frame_buffer] }
export_ip_user_files -of_objects [get_files c:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.srcs/sources_1/ip/frame_buffer/frame_buffer.xci] -no_script -sync -force -quiet
create_ip_run [get_files -of_objects [get_fileset sources_1] c:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.srcs/sources_1/ip/frame_buffer/frame_buffer.xci]
launch_runs -jobs 6 frame_buffer_synth_1
[Mon Aug  1 22:40:21 2022] Launched frame_buffer_synth_1...
Run output will be captured here: C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.runs/frame_buffer_synth_1/runme.log
export_simulation -of_objects [get_files c:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.srcs/sources_1/ip/frame_buffer/frame_buffer.xci] -directory C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.ip_user_files/sim_scripts -ip_user_files_dir C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.ip_user_files -ipstatic_source_dir C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.ip_user_files/ipstatic -lib_map_path [list {modelsim=C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.cache/compile_simlib/modelsim} {questa=C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.cache/compile_simlib/questa} {riviera=C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.cache/compile_simlib/riviera} {activehdl=C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.cache/compile_simlib/activehdl}] -use_ip_compiled_libs -force -quiet
WARNING: [IP_Flow 19-4067] Ignoring invalid widget type specified checkbox.Providing a default widget
WARNING: [IP_Flow 19-4067] Ignoring invalid widget type specified checkbox.Providing a default widget
launch_runs impl_1 -to_step write_bitstream -jobs 6
[Mon Aug  1 22:40:50 2022] Launched frame_buffer_synth_1, synth_1...
Run output will be captured here:
frame_buffer_synth_1: C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.runs/frame_buffer_synth_1/runme.log
synth_1: C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.runs/synth_1/runme.log
[Mon Aug  1 22:40:50 2022] Launched impl_1...
Run output will be captured here: C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.runs/impl_1/runme.log
open_hw
connect_hw_server
INFO: [Labtools 27-2285] Connecting to hw_server url TCP:localhost:3121
INFO: [Labtools 27-2222] Launching hw_server...
INFO: [Labtools 27-2221] Launch Output:

****** Xilinx hw_server v2017.3
  **** Build date : Oct  4 2017-20:12:17
    ** Copyright 1986-2017 Xilinx, Inc. All Rights Reserved.


open_hw_target
INFO: [Labtoolstcl 44-466] Opening hw_target localhost:3121/xilinx_tcf/Digilent/210183741546A
set_property PROGRAM.FILE {C:/Users/bened/Desktop/Proj/uec2_projekt/src/build/PROJEKT_UEC2.runs/impl_1/top_level.bit} [get_hw_devices xc7a35t_0]
current_hw_device [get_hw_devices xc7a35t_0]
refresh_hw_device -update_hw_probes false [lindex [get_hw_devices xc7a35t_0] 0]
INFO: [Labtools 27-1435] Device xc7a35t (JTAG device index = 0) is not programmed (DONE status = 0).
exit
INFO: [Common 17-206] Exiting Vivado at Mon Aug  1 23:04:32 2022...
